cart:
  title: "${player_name}'s Cart"
  # Available option is HORIZONTAL and VERTICAL
  page-mode: VERTICAL
  # The x character is the placeholder
  # for the history slot.
  structure:
    - "# # # # m # # # u"
    - "# x x x x x x x #"
    - "# x x x x x x x #"
    - "b # # @ # h # # n"
  icons:
    "#":
      base: brown_stained_glass_pane
      name: " "
      lore:
        - "<dark_gray>Wall"
        - " "
    "u":
      base: green_stained_glass_pane
      name: "<gray>Previous Page: ${current_page}/${total_page}"
      actions:
        left:
          - change_page(-1)
      icons:
        - condition: current_page == 1
          inherit: true
          icon:
            base: black_stained_glass_pane
    "n":
      base: red_stained_glass_pane
      name: "<gray>Next Page: ${current_page}/${total_page}"
      actions:
        left:
          - change_page(1)
      icons:
        - condition: current_page == total_page
          icon:
            base: black_stained_glass_pane
    "@":
      base: paper
      name: "<gray>Total Prices:"
      lore:
        - "s:prices_list(cart_total_prices)"
        - " "
        - "<dark_gray>✖ <aqua><key:key.mouse.left>"
        - "   <gray>Settle Cart"
        - "<dark_gray>✖ <aqua>Shift + <key:key.mouse.right>"
        - "   <gray>Switch Cart Mode"
        - '   <gray>Current Mode: <white>${lang("terms.order-type." + cart_shopping_mode)}'
        - "<dark_gray>✖ <aqua><key:key.mouse.right>"
        - "   <gray>Clean Cart"
        - "<dark_gray>✖ <white><key:key.drop>"
        - "   <gray>Clear Cart"
        - " "
      update-period: 1s
      actions:
        left:
          - settle_cart()
        shift-right:
          - switch_cart_mode()
          - update_icon()
        right:
          - clean_cart()
        drop:
          - clear_cart()
    "m":
      base: chest
      name: "<gray>Shop List"
      lore:
        - " "
        - "<dark_gray>✖ <white>Go to shop list"
        - " "
      actions:
        left:
          - open_gui{id="main-1"}
    "h":
      base: book
      name: "<gray>Settlement Log"
      lore:
        - " "
        - "<dark_gray>✖ <white>Check your settlement log"
        - " "
      actions:
        left:
          - open_order_history()
    "b":
      base: red_stained_glass_pane
      name: "<gray>Back"
      lore:
        - " "
        - "<dark_gray>✖ <white>Back to previous gui"
        - " "
      actions:
        left:
          - back()
  cart-product-icon:
    name: "<dark_gray>Name: <reset>${product_name} <dark_gray>x <white>${product_amount}"
    lore:
      - " "
      - "<gray>Stack: <white>${stack}"
      - '<gray>Total Price: <white>${prices_str(total_prices)}'
      - " "
      - "<dark_gray>✖ <aqua><key:key.mouse.left>"
      - "   <gray>Add 1 stack"
      - "<dark_gray>✖ <aqua><key:key.mouse.right>"
      - "   <gray>Remove 1 stack"
      - "<dark_gray>✖ <aqua><key:key.drop>"
      - "   <gray>Remove this product"
      - "<dark_gray>✖ <aqua>Shift + <key:key.mouse.left>"
      - "   <gray>Input any amount as stack"
      - " "
    actions:
      left:
        - modify_order_stack{amount=1}
        - update_icon()
      right:
        - modify_order_stack{amount=-1}
        - update_icon()
      drop:
        - set_order_stack{amount=0}
        - update_icon()
      shift-left:
        - |
          show_dialog({
            title: "Input Amount",
            inputs: [
              {
                type: "number-range",
                key: "stack",
                label: "Stack Amount",
                labelFormat: "%s: %s",
                width: 256,
                start: 1,
                end: 1024,
                initial: 1,
                step: 1
              }
            ],
            actions: [
              {
                label: "Confirm",
                width: 256,
                click: {
                  type: "custom",
                  onClick: () => {
                    const stack = getFloat("stack")
                    set_order_stack{amount=stack}
                    open_cart()
                  }
                }
              }
            ]
          })
